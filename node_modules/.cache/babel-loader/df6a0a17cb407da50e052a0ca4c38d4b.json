{"ast":null,"code":"var _jsxFileName = \"/home/jasper/Desktop/FullStack-GIT/Fullstack_Development_part5/bloglist-frontend/src/components/BlogList.js\";\nimport React, { useState } from 'react';\nimport Blog from './Blog';\nimport blogService from '../services/blogs';\n\nconst BlogList = ({\n  blogs\n}) => {\n  const [blogToShow, setBlogToShow] = useState(null);\n  const [blogsArray, setBlogsArray] = useState(blogs);\n\n  const handleView = blog => () => {\n    setBlogToShow(blog);\n  };\n\n  const handleHide = () => {\n    setBlogToShow(null);\n  };\n\n  const handleDelete = blogToDelete => () => {\n    if (window.confirm(`Remove blog ${blogToDelete.title} by ${blogToDelete.author}`)) {\n      console.log(blogToDelete);\n      blogService.deleteBlog(blogToDelete);\n      setBlogsArray(blogsArray.filter(blog => blog.id === blogToDelete.id));\n    }\n  };\n\n  const mapFunction = (id, blog, blogToShow) => {\n    if (blog === blogToShow) {\n      return React.createElement(Blog, {\n        key: id,\n        blog: blog,\n        details: true,\n        buttonLabel: \"hide\",\n        buttonFunction: handleHide,\n        removeFunction: handleDelete(blog),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27\n        },\n        __self: this\n      });\n    } else {\n      return React.createElement(Blog, {\n        key: id,\n        blog: blog,\n        details: false,\n        buttonLabel: \"view\",\n        buttonFunction: handleView(blog),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      });\n    }\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, blogsArray.sort((blogA, blogB) => blogB.likes - blogA.likes).map(blog => mapFunction(blog.id, blog, blogToShow)));\n};\n\nexport default BlogList;","map":{"version":3,"sources":["/home/jasper/Desktop/FullStack-GIT/Fullstack_Development_part5/bloglist-frontend/src/components/BlogList.js"],"names":["React","useState","Blog","blogService","BlogList","blogs","blogToShow","setBlogToShow","blogsArray","setBlogsArray","handleView","blog","handleHide","handleDelete","blogToDelete","window","confirm","title","author","console","log","deleteBlog","filter","id","mapFunction","sort","blogA","blogB","likes","map"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,WAAP,MAAwB,mBAAxB;;AAEA,MAAMC,QAAQ,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAa;AAC5B,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BN,QAAQ,CAAC,IAAD,CAA5C;AACA,QAAM,CAACO,UAAD,EAAaC,aAAb,IAA8BR,QAAQ,CAACI,KAAD,CAA5C;;AAEA,QAAMK,UAAU,GAAIC,IAAD,IAAU,MAAM;AACjCJ,IAAAA,aAAa,CAACI,IAAD,CAAb;AACD,GAFD;;AAIA,QAAMC,UAAU,GAAG,MAAM;AACvBL,IAAAA,aAAa,CAAC,IAAD,CAAb;AACD,GAFD;;AAIA,QAAMM,YAAY,GAAIC,YAAD,IAAkB,MAAM;AAC3C,QAAIC,MAAM,CAACC,OAAP,CAAgB,eAAcF,YAAY,CAACG,KAAM,OAAMH,YAAY,CAACI,MAAO,EAA3E,CAAJ,EAAkF;AAChFC,MAAAA,OAAO,CAACC,GAAR,CAAYN,YAAZ;AACAX,MAAAA,WAAW,CAACkB,UAAZ,CAAuBP,YAAvB;AACAL,MAAAA,aAAa,CAACD,UAAU,CAACc,MAAX,CAAkBX,IAAI,IAAEA,IAAI,CAACY,EAAL,KAAUT,YAAY,CAACS,EAA/C,CAAD,CAAb;AACD;AACF,GAND;;AAQA,QAAMC,WAAW,GAAG,CAACD,EAAD,EAAKZ,IAAL,EAAWL,UAAX,KAA0B;AAC5C,QAAIK,IAAI,KAAKL,UAAb,EAAwB;AACtB,aAAO,oBAAC,IAAD;AAAM,QAAA,GAAG,EAAEiB,EAAX;AAAe,QAAA,IAAI,EAAEZ,IAArB;AAA2B,QAAA,OAAO,EAAE,IAApC;AAA0C,QAAA,WAAW,EAAC,MAAtD;AAA6D,QAAA,cAAc,EAAEC,UAA7E;AAAyF,QAAA,cAAc,EAAEC,YAAY,CAACF,IAAD,CAArH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACD,KAFD,MAEO;AACL,aAAO,oBAAC,IAAD;AAAM,QAAA,GAAG,EAAEY,EAAX;AAAe,QAAA,IAAI,EAAEZ,IAArB;AAA2B,QAAA,OAAO,EAAE,KAApC;AAA2C,QAAA,WAAW,EAAC,MAAvD;AAA8D,QAAA,cAAc,EAAED,UAAU,CAACC,IAAD,CAAxF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACD;AACF,GAND;;AAOA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGH,UAAU,CACNiB,IADJ,CACS,CAACC,KAAD,EAAQC,KAAR,KAAgBA,KAAK,CAACC,KAAN,GAAcF,KAAK,CAACE,KAD7C,EAEIC,GAFJ,CAEQlB,IAAI,IAAIa,WAAW,CAACb,IAAI,CAACY,EAAN,EAAUZ,IAAV,EAAgBL,UAAhB,CAF3B,CADH,CADF;AAQD,CAnCD;;AAqCA,eAAeF,QAAf","sourcesContent":["import React, {useState} from 'react'\nimport Blog from './Blog'\nimport blogService from '../services/blogs'\n\nconst BlogList = ({blogs}) => {\n  const [blogToShow, setBlogToShow] = useState(null)\n  const [blogsArray, setBlogsArray] = useState(blogs)\n\n  const handleView = (blog) => () => {\n    setBlogToShow(blog)\n  }\n\n  const handleHide = () => {\n    setBlogToShow(null)\n  }\n\n  const handleDelete = (blogToDelete) => () => {\n    if (window.confirm(`Remove blog ${blogToDelete.title} by ${blogToDelete.author}`)){\n      console.log(blogToDelete)\n      blogService.deleteBlog(blogToDelete)\n      setBlogsArray(blogsArray.filter(blog=>blog.id===blogToDelete.id))\n    }\n  }\n\n  const mapFunction = (id, blog, blogToShow) => {\n    if (blog === blogToShow){\n      return <Blog key={id} blog={blog} details={true} buttonLabel='hide' buttonFunction={handleHide} removeFunction={handleDelete(blog)}/>\n    } else {\n      return <Blog key={id} blog={blog} details={false} buttonLabel='view' buttonFunction={handleView(blog)}/>\n    }\n  }\n  return (\n    <div>\n      {blogsArray\n          .sort((blogA, blogB)=>blogB.likes - blogA.likes)\n          .map(blog => mapFunction(blog.id, blog, blogToShow))\n          }\n    </div>\n  )\n}\n\nexport default BlogList\n"]},"metadata":{},"sourceType":"module"}